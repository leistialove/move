<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>查詢活動紀錄</title>
</head>
<body>
  <h1>查詢活動紀錄（依日期）</h1>
  <form id="query-form">
    <label for="date1">選擇日期一：</label>
    <input type="date" id="date1" name="date1" required>
    <br>
    <label for="date2">選擇日期二（可選）：</label>
    <input type="date" id="date2" name="date2">
    <br>
    <button type="submit">查詢</button>
  </form>
  <div id="result"></div>

  <script>
    document.getElementById('query-form').onsubmit = async function(e){
      e.preventDefault();
      const d1 = document.getElementById('date1').value;
      const d2 = document.getElementById('date2').value;
      let url = `/api/query_records?date1=${d1}`;
      if(d2) url += `&date2=${d2}`;
      const res = await fetch(url);
      const data = await res.json();
      document.getElementById('result').innerText = JSON.stringify(data, null, 2);
      // 這裡可以用JS畫圖表
    }
  </script>
</body>
</html>
